{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/shared/src/hooks/useMediaQuery.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useMediaQuery(query: string): boolean {\r\n  const [matches, setMatches] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const media = window.matchMedia(query);\r\n    setMatches(media.matches);\r\n    const listener = (e: MediaQueryListEvent) => setMatches(e.matches);\r\n    media.addEventListener(\"change\", listener);\r\n    return () => media.removeEventListener(\"change\", listener);\r\n  }, [query]);\r\n\r\n  return matches;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,SAAS,cAAc,KAAa;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,QAAQ,OAAO,UAAU,CAAC;QAChC,WAAW,MAAM,OAAO;QACxB,MAAM,WAAW,CAAC,IAA2B,WAAW,EAAE,OAAO;QACjE,MAAM,gBAAgB,CAAC,UAAU;QACjC,OAAO,IAAM,MAAM,mBAAmB,CAAC,UAAU;IACnD,GAAG;QAAC;KAAM;IAEV,OAAO;AACT"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/shared/src/hooks/useLocalStorage.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useCallback } from \"react\";\r\n\r\nexport function useLocalStorage<T>(\r\n  key: string,\r\n  initialValue: T\r\n): [T, (value: T | ((prev: T) => T)) => void] {\r\n  const [stored, setStored] = useState<T>(() => {\r\n    if (typeof window === \"undefined\") return initialValue;\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? (JSON.parse(item) as T) : initialValue;\r\n    } catch {\r\n      return initialValue;\r\n    }\r\n  });\r\n\r\n  const setValue = useCallback(\r\n    (value: T | ((prev: T) => T)) => {\r\n      setStored((prev) => {\r\n        const next = value instanceof Function ? value(prev) : value;\r\n        if (typeof window !== \"undefined\") {\r\n          try {\r\n            window.localStorage.setItem(key, JSON.stringify(next));\r\n          } catch {\r\n            // ignore\r\n          }\r\n        }\r\n        return next;\r\n      });\r\n    },\r\n    [key]\r\n  );\r\n\r\n  return [stored, setValue];\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,SAAS,gBACd,GAAW,EACX,YAAe;IAEf,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAI;QACtC,wCAAmC,OAAO;;;IAO5C;IAEA,MAAM,WAAW,IAAA,oNAAW,EAC1B,CAAC;QACC,UAAU,CAAC;YACT,MAAM,OAAO,iBAAiB,WAAW,MAAM,QAAQ;YACvD;;YAOA,OAAO;QACT;IACF,GACA;QAAC;KAAI;IAGP,OAAO;QAAC;QAAQ;KAAS;AAC3B"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/shared/src/hooks/useAuth.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport type { SupabaseClient } from \"@supabase/supabase-js\";\r\nimport { useAuth as useAuthContext } from \"../auth\";\r\n\r\nexport interface UseAuthReturn {\r\n  user: ReturnType<typeof useAuthContext>[\"user\"];\r\n  role: ReturnType<typeof useAuthContext>[\"role\"];\r\n  workspace_id: number | null;\r\n  loading: boolean;\r\n  signOut: () => Promise<void>;\r\n  client: SupabaseClient | null;\r\n}\r\n\r\n/**\r\n * Shared auth hook for route guards and UI authorization.\r\n * Must be used within AuthProvider (from @crm/shared/auth).\r\n *\r\n * @example\r\n * const { user, role, workspace_id, loading } = useAuth();\r\n * if (loading) return <Spinner />;\r\n * if (!user) redirect(\"/login\");\r\n * if (role !== \"superadmin\") return <Forbidden />;\r\n */\r\nexport function useAuth(): UseAuthReturn {\r\n  const ctx = useAuthContext();\r\n  return {\r\n    user: ctx.user,\r\n    role: ctx.role,\r\n    workspace_id: ctx.workspaceId,\r\n    loading: ctx.isLoading,\r\n    signOut: ctx.signOut,\r\n    client: ctx.client,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AAAA;AAHA;;AAwBO,SAAS;IACd,MAAM,MAAM,IAAA,wJAAc;IAC1B,OAAO;QACL,MAAM,IAAI,IAAI;QACd,MAAM,IAAI,IAAI;QACd,cAAc,IAAI,WAAW;QAC7B,SAAS,IAAI,SAAS;QACtB,SAAS,IAAI,OAAO;QACpB,QAAQ,IAAI,MAAM;IACpB;AACF"}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/shared/src/hooks/index.ts"],"sourcesContent":["export { useMediaQuery } from \"./useMediaQuery\";\r\nexport { useLocalStorage } from \"./useLocalStorage\";\r\nexport { useAuth } from \"./useAuth\";\r\nexport type { UseAuthReturn } from \"./useAuth\";\r\n"],"names":[],"mappings":";AAAA;AACA;AACA"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/workspace/src/hooks/useWorkspaceName.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { useAuth } from \"@crm/shared/hooks\";\r\n\r\nexport function useWorkspaceName(): string | null {\r\n  const { client, role, workspace_id } = useAuth();\r\n  const [name, setName] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (role !== \"superadmin\" || !client || workspace_id == null) {\r\n      setName(null);\r\n      return;\r\n    }\r\n    let mounted = true;\r\n    void client\r\n      .from(\"workspaces\")\r\n      .select(\"name\")\r\n      .eq(\"id\", workspace_id)\r\n      .single()\r\n      .then(({ data, error }) => {\r\n        if (mounted) {\r\n          if (error || !data?.name) {\r\n            setName(null);\r\n          } else {\r\n            setName(data.name as string);\r\n          }\r\n        }\r\n      });\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [client, role, workspace_id]);\r\n\r\n  return name;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAHA;;;AAKO,SAAS;IACd,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,GAAG,IAAA,oJAAO;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAgB;IAEhD,IAAA,kNAAS,EAAC;QACR,IAAI,SAAS,gBAAgB,CAAC,UAAU,gBAAgB,MAAM;YAC5D,QAAQ;YACR;QACF;QACA,IAAI,UAAU;QACd,KAAK,OACF,IAAI,CAAC,cACL,MAAM,CAAC,QACP,EAAE,CAAC,MAAM,cACT,MAAM,GACN,IAAI,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE;YACpB,IAAI,SAAS;gBACX,IAAI,SAAS,CAAC,MAAM,MAAM;oBACxB,QAAQ;gBACV,OAAO;oBACL,QAAQ,KAAK,IAAI;gBACnB;YACF;QACF;QACF,OAAO;YACL,UAAU;QACZ;IACF,GAAG;QAAC;QAAQ;QAAM;KAAa;IAE/B,OAAO;AACT"}},
    {"offset": {"line": 154, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/workspace/src/components/Sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useAuth } from \"@crm/shared/hooks\";\r\nimport { useWorkspaceName } from \"@/hooks/useWorkspaceName\";\r\n\r\ninterface SidebarProps {\r\n  isOpen: boolean;\r\n}\r\n\r\nexport function Sidebar({ isOpen }: SidebarProps) {\r\n  const [activeMenu, setActiveMenu] = useState(\"\");\r\n  const pathname = usePathname();\r\n  const { user, role } = useAuth();\r\n  const workspaceName = useWorkspaceName();\r\n  const superadminUrl =\r\n    typeof process.env.NEXT_PUBLIC_SUPERADMIN_APP_URL === \"string\"\r\n      ? process.env.NEXT_PUBLIC_SUPERADMIN_APP_URL.replace(/\\/$/, \"\")\r\n      : \"http://localhost:3001\";\r\n\r\n  return (\r\n    <aside\r\n      className={`bg-white border-r border-gray-200 fixed top-0 left-0 z-40 h-screen w-64 transition-transform duration-300 ease-in-out ${\r\n        isOpen ? \"translate-x-0\" : \"-translate-x-full lg:translate-x-0\"\r\n      } shadow-lg`}\r\n    >\r\n      <div className=\"h-16 px-3 flex items-center justify-start border-b border-gray-200\">\r\n        <Link href=\"/\" className=\"logo w-full relative flex items-center gap-2\">\r\n          <span className=\"text-lg font-bold text-blue-600\">GetSetTime</span>\r\n          <span className=\"text-xs text-indigo-600\">Workspace</span>\r\n        </Link>\r\n      </div>\r\n      {role === \"superadmin\" && (\r\n        <div className=\"px-3 py-2 border-b border-gray-100 space-y-2\">\r\n          {workspaceName && (\r\n            <p className=\"px-3 py-1.5 text-xs font-medium text-slate-600 bg-slate-100 rounded-md truncate\" title={workspaceName}>\r\n              Viewing: {workspaceName}\r\n            </p>\r\n          )}\r\n          <a\r\n            href={superadminUrl}\r\n            className=\"flex items-center px-3 py-2 text-sm font-medium rounded-md text-indigo-600 hover:bg-indigo-50\"\r\n          >\r\n            <svg className=\"h-5 w-5 mr-3 text-indigo-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n            </svg>\r\n            Back to Superadmin\r\n          </a>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"py-6 px-3\">\r\n        <nav className=\"space-y-1\">\r\n          <Link\r\n            href=\"/\"\r\n            className={`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${\r\n              pathname === \"/\" ? \"bg-blue-50 text-blue-600\" : \"text-gray-700 hover:bg-gray-50\"\r\n            }`}\r\n            onClick={() => setActiveMenu(\"dashboard\")}\r\n          >\r\n            <svg className=\"h-5 w-5 mr-3 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n            </svg>\r\n            Dashboard\r\n          </Link>\r\n          <Link\r\n            href=\"/leads\"\r\n            className={`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${\r\n              pathname.startsWith(\"/leads\") ? \"bg-blue-50 text-blue-600\" : \"text-gray-700 hover:bg-gray-50\"\r\n            }`}\r\n            onClick={() => setActiveMenu(\"leads\")}\r\n          >\r\n            <svg className=\"h-5 w-5 mr-3 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\r\n            </svg>\r\n            Leads\r\n          </Link>\r\n          <Link\r\n            href=\"/settings\"\r\n            className={`group flex items-center px-3 py-2 text-sm font-medium rounded-md ${\r\n              pathname === \"/settings\" ? \"bg-blue-50 text-blue-600\" : \"text-gray-700 hover:bg-gray-50\"\r\n            }`}\r\n            onClick={() => setActiveMenu(\"settings\")}\r\n          >\r\n            <svg className=\"h-5 w-5 mr-3 text-gray-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n            </svg>\r\n            Settings\r\n          </Link>\r\n        </nav>\r\n      </div>\r\n\r\n      <div className=\"absolute bottom-0 w-full border-t border-gray-200 p-4\">\r\n        <div className=\"flex items-center\">\r\n          <div className=\"h-10 w-10 rounded-full bg-blue-500 flex items-center justify-center text-white shrink-0\">\r\n            <span className=\"text-sm font-medium\">\r\n              {user?.email ? user.email.charAt(0).toUpperCase() : \"U\"}\r\n            </span>\r\n          </div>\r\n          <div className=\"ml-3 min-w-0\">\r\n            <p className=\"text-sm font-medium text-gray-700 truncate max-w-[150px]\">\r\n              {user?.name || user?.email?.split(\"@\")[0] || \"User\"}\r\n            </p>\r\n            <p className=\"text-xs text-gray-500 truncate max-w-[150px]\">\r\n              {user?.email || \"user@example.com\"}\r\n            </p>\r\n            {role === \"superadmin\" && (\r\n              <span className=\"inline-block mt-1 text-[10px] font-semibold text-indigo-600 uppercase tracking-wide\">\r\n                Superadmin\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 465, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/workspace/src/components/Topbar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@crm/shared/hooks\";\r\nimport { useWorkspaceName } from \"@/hooks/useWorkspaceName\";\r\n\r\ninterface TopbarProps {\r\n  toggleSidebar: () => void;\r\n  isSidebarOpen: boolean;\r\n}\r\n\r\nexport function Topbar({ toggleSidebar, isSidebarOpen }: TopbarProps) {\r\n  const [isProfileMenuOpen, setIsProfileMenuOpen] = useState(false);\r\n  const [isNotificationOpen, setIsNotificationOpen] = useState(false);\r\n  const router = useRouter();\r\n  const { user, role, signOut } = useAuth();\r\n  const workspaceName = useWorkspaceName();\r\n  const superadminUrl =\r\n    typeof process.env.NEXT_PUBLIC_SUPERADMIN_APP_URL === \"string\"\r\n      ? process.env.NEXT_PUBLIC_SUPERADMIN_APP_URL.replace(/\\/$/, \"\")\r\n      : \"http://localhost:3001\";\r\n\r\n  const handleSignOut = async () => {\r\n    await signOut();\r\n    router.push(\"/login\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (e: MouseEvent) => {\r\n      const notificationButton = document.getElementById(\"notification-button\");\r\n      const notificationDropdown = document.getElementById(\"notification-dropdown\");\r\n      const profileButton = document.getElementById(\"profile-button\");\r\n      const profileDropdown = document.getElementById(\"profile-dropdown\");\r\n      if (\r\n        notificationButton &&\r\n        notificationDropdown &&\r\n        profileButton &&\r\n        profileDropdown &&\r\n        !notificationButton.contains(e.target as Node) &&\r\n        !notificationDropdown.contains(e.target as Node) &&\r\n        !profileButton.contains(e.target as Node) &&\r\n        !profileDropdown.contains(e.target as Node)\r\n      ) {\r\n        setIsProfileMenuOpen(false);\r\n        setIsNotificationOpen(false);\r\n      }\r\n    };\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <header className=\"bg-white border-b border-gray-200 h-16 flex items-center px-4\">\r\n      <div className=\"flex items-center justify-between w-full\">\r\n        <div className=\"flex items-center\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={toggleSidebar}\r\n            className=\"p-2 rounded-md text-gray-500 hover:bg-gray-100 lg:hidden\"\r\n            aria-label={isSidebarOpen ? \"Close sidebar\" : \"Open sidebar\"}\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              {isSidebarOpen ? (\r\n                <path strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\r\n              ) : (\r\n                <path strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\r\n              )}\r\n            </svg>\r\n          </button>\r\n          <div className=\"lg:hidden ml-2\">\r\n            <Link href=\"/\">\r\n              <span className=\"text-xl font-bold text-blue-600\">Workspace</span>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"hidden md:flex flex-1 justify-center\">\r\n          <div className=\"relative max-w-md w-full\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search...\"\r\n              className=\"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\r\n            />\r\n            <div className=\"absolute left-3 top-2.5 text-gray-400\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-4\">\r\n          <div className=\"relative\">\r\n            <button\r\n              id=\"notification-button\"\r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setIsNotificationOpen(!isNotificationOpen);\r\n                setIsProfileMenuOpen(false);\r\n              }}\r\n              className=\"p-2 rounded-full text-gray-500 cursor-pointer hover:bg-gray-100 relative\"\r\n              aria-label=\"Notifications\"\r\n              aria-expanded={isNotificationOpen}\r\n              aria-haspopup=\"true\"\r\n            >\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9\" />\r\n              </svg>\r\n              <span className=\"absolute top-0 right-0 h-2 w-2 rounded-full bg-red-500\" />\r\n            </button>\r\n            {isNotificationOpen && (\r\n              <div\r\n                id=\"notification-dropdown\"\r\n                className=\"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200\"\r\n              >\r\n                <div className=\"px-4 py-2 border-b border-gray-100\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-700\">Notifications</h3>\r\n                </div>\r\n                <div className=\"max-h-96 overflow-y-auto\">\r\n                  <div className=\"px-4 py-3 border-b border-gray-100 hover:bg-gray-50\">\r\n                    <p className=\"text-sm font-medium text-gray-700\">No new notifications</p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"px-4 py-2 border-t border-gray-100 text-center\">\r\n                  <span className=\"text-xs text-blue-600\">View all notifications</span>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"relative\">\r\n            <button\r\n              id=\"profile-button\"\r\n              type=\"button\"\r\n              onClick={(e) => {\r\n                e.stopPropagation();\r\n                setIsProfileMenuOpen(!isProfileMenuOpen);\r\n                setIsNotificationOpen(false);\r\n              }}\r\n              className=\"flex items-center space-x-2 cursor-pointer focus:outline-none\"\r\n              aria-expanded={isProfileMenuOpen}\r\n              aria-haspopup=\"true\"\r\n            >\r\n              <div className=\"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white\">\r\n                <span className=\"text-sm font-medium\">\r\n                  {user?.email ? user.email.charAt(0).toUpperCase() : \"U\"}\r\n                </span>\r\n              </div>\r\n            </button>\r\n            {isProfileMenuOpen && (\r\n              <div\r\n                id=\"profile-dropdown\"\r\n                className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border border-gray-200\"\r\n              >\r\n                {user && (\r\n                  <div className=\"px-4 py-2 border-b border-gray-100\">\r\n                    <p className=\"text-xs text-gray-500\">Signed in as</p>\r\n                    <p className=\"text-sm font-medium text-gray-700 truncate\">{user.email}</p>\r\n                    {role === \"superadmin\" && (\r\n                      <>\r\n                        <span className=\"inline-block mt-1 text-[10px] font-semibold text-indigo-600 uppercase tracking-wide\">\r\n                          Superadmin\r\n                        </span>\r\n                        {workspaceName && (\r\n                          <p className=\"text-xs text-slate-500 mt-1 truncate\" title={workspaceName}>\r\n                            Viewing: {workspaceName}\r\n                          </p>\r\n                        )}\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                )}\r\n                <Link\r\n                  href=\"/profile\"\r\n                  className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                  onClick={() => setIsProfileMenuOpen(false)}\r\n                >\r\n                  Your Profile\r\n                </Link>\r\n                <Link\r\n                  href=\"/settings\"\r\n                  className=\"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                  onClick={() => setIsProfileMenuOpen(false)}\r\n                >\r\n                  Settings\r\n                </Link>\r\n                {role === \"superadmin\" && (\r\n                  <a\r\n                    href={superadminUrl}\r\n                    className=\"block px-4 py-2 text-sm text-indigo-600 hover:bg-indigo-50\"\r\n                    onClick={() => setIsProfileMenuOpen(false)}\r\n                  >\r\n                    Back to Superadmin\r\n                  </a>\r\n                )}\r\n                <div className=\"border-t border-gray-100 my-1\" />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setIsProfileMenuOpen(false);\r\n                    void handleSignOut();\r\n                  }}\r\n                  className=\"w-full text-left block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                >\r\n                  Sign out\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 925, "column": 0}, "map": {"version":3,"sources":["file:///C:/wamp64/www/crm-leads/crm/apps/workspace/src/app/%28dashboard%29/layout.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Sidebar } from \"@/components/Sidebar\";\r\nimport { Topbar } from \"@/components/Topbar\";\r\n\r\nexport default function DashboardLayout({\r\n  children,\r\n}: { children: React.ReactNode }) {\r\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n\r\n  const toggleSidebar = () => setIsSidebarOpen((open) => !open);\r\n\r\n  const closeSidebar = () => {\r\n    if (typeof window !== \"undefined\" && window.innerWidth < 1024) {\r\n      setIsSidebarOpen(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (typeof window !== \"undefined\" && window.innerWidth >= 1024) {\r\n        setIsSidebarOpen(false);\r\n      }\r\n    };\r\n    window.addEventListener(\"resize\", handleResize);\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen relative w-full overflow-x-hidden\">\r\n      {isSidebarOpen && (\r\n        <div\r\n          className=\"fixed inset-0 bg-white/50 backdrop-blur-sm z-30 lg:hidden\"\r\n          onClick={closeSidebar}\r\n          aria-hidden=\"true\"\r\n        />\r\n      )}\r\n      <Sidebar isOpen={isSidebarOpen} />\r\n      <div className=\"flex-1 flex flex-col w-full min-w-0 ml-0 lg:ml-64 transition-all duration-300\">\r\n        <Topbar toggleSidebar={toggleSidebar} isSidebarOpen={isSidebarOpen} />\r\n        <main className=\"flex-1 p-4 lg:p-8 w-full max-w-full overflow-x-hidden bg-gray-100\">\r\n          <div className=\"max-w-full\">{children}</div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,gBAAgB,EACtC,QAAQ,EACsB;IAC9B,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,iNAAQ,EAAC;IAEnD,MAAM,gBAAgB,IAAM,iBAAiB,CAAC,OAAS,CAAC;IAExD,MAAM,eAAe;QACnB,IAAI,kDAAkB,eAAe,OAAO,UAAU,GAAG;;IAG3D;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,eAAe;YACnB,IAAI,kDAAkB,eAAe,OAAO,UAAU,IAAI;;QAG5D;QACA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAI,WAAU;;YACZ,+BACC,8OAAC;gBACC,WAAU;gBACV,SAAS;gBACT,eAAY;;;;;;0BAGhB,8OAAC,6JAAO;gBAAC,QAAQ;;;;;;0BACjB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,2JAAM;wBAAC,eAAe;wBAAe,eAAe;;;;;;kCACrD,8OAAC;wBAAK,WAAU;kCACd,cAAA,8OAAC;4BAAI,WAAU;sCAAc;;;;;;;;;;;;;;;;;;;;;;;AAKvC"}}]
}